/* ============================================================
   PostPress AI — Admin Testbed CSS (Modular)
   File: /assets/css/admin-testbed.css

   Purpose:
   - Testbed-only styling (isolated).
   - Keeps UNBREAKABLE RULE trajectory: each admin page gets its own CSS.

   Scoping:
   - EVERYTHING is scoped to the Testbed admin body class:
     body.admin_page_postpress-ai-testbed

   Notes:
   - We also include a fallback scope for the alternate WP body class:
     body.postpress-ai_page_postpress-ai-testbed

   ========= CHANGE LOG =========
   2026-01-01 — FIX: Correct body scope to match real Testbed screen body class (admin_page_postpress-ai-testbed). # CHANGED:
                Add fallback scope for postpress-ai_page_postpress-ai-testbed.                                       # CHANGED:
                Add safe styling for .wrap + core WP buttons so it works even if custom wrappers aren’t present.     # CHANGED:
   ============================================================ */

/* ------------------------------------------------------------
   Scoped root variables (Testbed only)
------------------------------------------------------------ */
body.admin_page_postpress-ai-testbed,
body.postpress-ai_page_postpress-ai-testbed{
  --ppa-bg:#121212;
  --ppa-panel:#1c1c1c;
  --ppa-border:rgba(255,255,255,.10);
  --ppa-text:#f5f5f5;
  --ppa-muted:#cfcfcf;
  --ppa-accent:#ff6c00;
}

/* ------------------------------------------------------------
   Base page container (works even if .ppa-testbed-wrap is absent)
------------------------------------------------------------ */
body.admin_page_postpress-ai-testbed .wrap,
body.postpress-ai_page_postpress-ai-testbed .wrap{
  background:var(--ppa-bg);
  color:var(--ppa-text);
  padding:24px;
  border-radius:12px;
  box-sizing:border-box;
  max-width:1100px;
}

/* If you DO have a dedicated wrapper, style it too */
body.admin_page_postpress-ai-testbed .ppa-testbed-wrap,
body.postpress-ai_page_postpress-ai-testbed .ppa-testbed-wrap{
  background:var(--ppa-bg);
  color:var(--ppa-text);
  padding:24px;
  border-radius:12px;
  box-sizing:border-box;
}

/* ------------------------------------------------------------
   Headings
------------------------------------------------------------ */
body.admin_page_postpress-ai-testbed .wrap h1,
body.admin_page_postpress-ai-testbed .wrap h2,
body.admin_page_postpress-ai-testbed .wrap h3,
body.postpress-ai_page_postpress-ai-testbed .wrap h1,
body.postpress-ai_page_postpress-ai-testbed .wrap h2,
body.postpress-ai_page_postpress-ai-testbed .wrap h3,
body.admin_page_postpress-ai-testbed .ppa-testbed-wrap h1,
body.admin_page_postpress-ai-testbed .ppa-testbed-wrap h2,
body.admin_page_postpress-ai-testbed .ppa-testbed-wrap h3,
body.postpress-ai_page_postpress-ai-testbed .ppa-testbed-wrap h1,
body.postpress-ai_page_postpress-ai-testbed .ppa-testbed-wrap h2,
body.postpress-ai_page_postpress-ai-testbed .ppa-testbed-wrap h3{
  color:var(--ppa-accent);
  margin-top:0;
}

body.admin_page_postpress-ai-testbed pre.ppa-outline,
body.postpress-ai_page_postpress-ai-testbed pre.ppa-outline{
  white-space:pre-wrap;
  overflow-wrap:anywhere;
}

/* ------------------------------------------------------------
   Helper text blocks
------------------------------------------------------------ */
body.admin_page_postpress-ai-testbed .ppa-subhead,
body.postpress-ai_page_postpress-ai-testbed .ppa-subhead{
  margin-bottom:12px;
  font-size:14px;
  color:var(--ppa-muted);
}

body.admin_page_postpress-ai-testbed .ppa-form-group,
body.postpress-ai_page_postpress-ai-testbed .ppa-form-group{
  margin-top:16px;
}

body.admin_page_postpress-ai-testbed label,
body.postpress-ai_page_postpress-ai-testbed label{
  display:block;
  margin-top:16px;
  font-weight:600;
  color:#fff;
}

/* ------------------------------------------------------------
   Inputs
------------------------------------------------------------ */
body.admin_page_postpress-ai-testbed input,
body.admin_page_postpress-ai-testbed select,
body.admin_page_postpress-ai-testbed textarea,
body.postpress-ai_page_postpress-ai-testbed input,
body.postpress-ai_page_postpress-ai-testbed select,
body.postpress-ai_page_postpress-ai-testbed textarea{
  width:100%;
  max-width:100%;
  margin-top:6px;
  padding:10px 12px;
  border-radius:6px;
  border:1px solid #333;
  background:#2b2b2b;
  color:#fff;
  font-size:14px;
  box-sizing:border-box;
}

body.admin_page_postpress-ai-testbed textarea,
body.postpress-ai_page_postpress-ai-testbed textarea{
  min-height:120px;
}

body.admin_page_postpress-ai-testbed input:focus,
body.admin_page_postpress-ai-testbed select:focus,
body.admin_page_postpress-ai-testbed textarea:focus,
body.postpress-ai_page_postpress-ai-testbed input:focus,
body.postpress-ai_page_postpress-ai-testbed select:focus,
body.postpress-ai_page_postpress-ai-testbed textarea:focus{
  outline:none;
  border-color:var(--ppa-accent);
  box-shadow:0 0 0 1px var(--ppa-accent);
}

/* Dropdown appearance (dark) */
body.admin_page_postpress-ai-testbed select,
body.postpress-ai_page_postpress-ai-testbed select{
  color:#f5f5f5;
  background-color:#2b2b2b;
  border:1px solid #444;
  appearance:none;
  -webkit-appearance:none;
  -moz-appearance:none;
  background-image:url("data:image/svg+xml;utf8,<svg fill='%23ff6c00' height='12' viewBox='0 0 24 24' width='12' xmlns='http://www.w3.org/2000/svg'><path d='M7 10l5 5 5-5z'/></svg>");
  background-repeat:no-repeat;
  background-position:right 10px center;
  background-size:12px;
  padding-right:28px;
}

body.admin_page_postpress-ai-testbed select option,
body.postpress-ai_page_postpress-ai-testbed select option{
  color:#fff;
  background-color:#1c1c1c;
}

/* Scrollbars */
body.admin_page_postpress-ai-testbed select::-webkit-scrollbar,
body.postpress-ai_page_postpress-ai-testbed select::-webkit-scrollbar{width:8px;}
body.admin_page_postpress-ai-testbed select::-webkit-scrollbar-thumb,
body.postpress-ai_page_postpress-ai-testbed select::-webkit-scrollbar-thumb{background-color:#444;border-radius:4px;}
body.admin_page_postpress-ai-testbed select::-webkit-scrollbar-thumb:hover,
body.postpress-ai_page_postpress-ai-testbed select::-webkit-scrollbar-thumb:hover{background-color:#555;}

/* ------------------------------------------------------------
   Core WP Buttons (so this works even without custom .ppa-btn)
------------------------------------------------------------ */
body.admin_page_postpress-ai-testbed .button,
body.postpress-ai_page_postpress-ai-testbed .button{
  border-radius:8px;
  border:1px solid #333 !important;
  background:#2b2b2b !important;
  color:#fff !important;
  box-shadow:none !important;
  text-shadow:none !important;
}

body.admin_page_postpress-ai-testbed .button:hover,
body.postpress-ai_page_postpress-ai-testbed .button:hover{
  background:#3a3a3a !important;
  border-color:#444 !important;
}

body.admin_page_postpress-ai-testbed .button.button-primary,
body.postpress-ai_page_postpress-ai-testbed .button.button-primary{
  background:var(--ppa-accent) !important;
  border-color:var(--ppa-accent) !important;
  color:#fff !important;
}

body.admin_page_postpress-ai-testbed .button.button-primary:hover,
body.postpress-ai_page_postpress-ai-testbed .button.button-primary:hover{
  background:#ff8126 !important;
  border-color:#ff8126 !important;
}

/* Actions container (safe if missing) */
body.admin_page_postpress-ai-testbed .ppa-actions,
body.postpress-ai_page_postpress-ai-testbed .ppa-actions{
  margin-top:24px;
  display:flex;
  gap:12px;
  flex-wrap:wrap;
}

/* Optional custom button classes (safe if present) */
body.admin_page_postpress-ai-testbed .ppa-btn,
body.postpress-ai_page_postpress-ai-testbed .ppa-btn{
  padding:10px 18px;
  border-radius:8px;
  cursor:pointer;
  font-weight:600;
  border:none;
  transition:background .2s ease;
}

body.admin_page_postpress-ai-testbed .ppa-btn-primary,
body.postpress-ai_page_postpress-ai-testbed .ppa-btn-primary{
  background:var(--ppa-accent);
  color:#fff;
}
body.admin_page_postpress-ai-testbed .ppa-btn-primary:hover,
body.postpress-ai_page_postpress-ai-testbed .ppa-btn-primary:hover{background:#ff8126;}

body.admin_page_postpress-ai-testbed .ppa-btn-secondary,
body.postpress-ai_page_postpress-ai-testbed .ppa-btn-secondary{
  background:#2b2b2b;
  color:#fff;
  border:1px solid #333;
}
body.admin_page_postpress-ai-testbed .ppa-btn-secondary:hover,
body.postpress-ai_page_postpress-ai-testbed .ppa-btn-secondary:hover{background:#3a3a3a;}

/* Busy/disabled */
body.admin_page_postpress-ai-testbed .button[disabled],
body.admin_page_postpress-ai-testbed .button[aria-busy="true"],
body.admin_page_postpress-ai-testbed .ppa-btn[disabled],
body.admin_page_postpress-ai-testbed .ppa-btn[aria-busy="true"],
body.postpress-ai_page_postpress-ai-testbed .button[disabled],
body.postpress-ai_page_postpress-ai-testbed .button[aria-busy="true"],
body.postpress-ai_page_postpress-ai-testbed .ppa-btn[disabled],
body.postpress-ai_page_postpress-ai-testbed .ppa-btn[aria-busy="true"]{
  opacity:.6;
  cursor:not-allowed;
  pointer-events:none;
  position:relative;
}

/* ------------------------------------------------------------
   Notices (testbed-only)
------------------------------------------------------------ */
body.admin_page_postpress-ai-testbed .ppa-notice,
body.postpress-ai_page_postpress-ai-testbed .ppa-notice{
  margin-top:10px;
  padding:10px 12px;
  border-radius:8px;
  line-height:1.35;
  font-size:13px;
  background:rgba(255,255,255,.06);
  color:#ffffff;
  border:1px solid rgba(255,255,255,.12);
  opacity:.95;
  animation:ppaFadeIn .35s ease-in-out;
}

body.admin_page_postpress-ai-testbed .ppa-notice-success,
body.postpress-ai_page_postpress-ai-testbed .ppa-notice-success{background:rgba(16,185,129,.15);border-color:rgba(16,185,129,.35);color:#d1fae5;}
body.admin_page_postpress-ai-testbed .ppa-notice-error,
body.postpress-ai_page_postpress-ai-testbed .ppa-notice-error{background:rgba(239,68,68,.18);border-color:rgba(239,68,68,.40);color:#fee2e2;}
body.admin_page_postpress-ai-testbed .ppa-notice-warn,
body.postpress-ai_page_postpress-ai-testbed .ppa-notice-warn{background:rgba(255,108,0,.20);border-color:rgba(255,108,0,.40);color:#fff7ed;}
body.admin_page_postpress-ai-testbed .ppa-notice-info,
body.postpress-ai_page_postpress-ai-testbed .ppa-notice-info{background:rgba(59,130,246,.18);border-color:rgba(59,130,246,.40);color:#dbeafe;}

@keyframes ppaFadeIn{
  from{opacity:0;transform:translateY(4px);}
  to{opacity:1;transform:translateY(0);}
}

/* Optional preview pane target (safe if missing) */
body.admin_page_postpress-ai-testbed #ppa-preview-pane,
body.postpress-ai_page_postpress-ai-testbed #ppa-preview-pane{
  background:rgba(255,255,255,.02);
  border:1px solid rgba(255,255,255,.08);
  border-radius:8px;
  padding:14px;
}
